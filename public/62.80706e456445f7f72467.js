(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"4tbQ":function(e,o,s){"use strict";s.r(o);var n=s("3xsP"),r=s("mhOz"),t=s("n2nD"),a=s("1FVJ"),i=s("dH6J"),l=s("swBK"),p=s("Yare"),d=s("QvY4"),c=function(e,o,s,n){var r,t=arguments.length,a=t<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,o,s,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(t<3?r(a):t>3?r(o,s,a):r(o,s))||a);return t>3&&a&&Object.defineProperty(o,s,a),a},u=function(e,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)},m=function(){function e(e,o){this.shared=e,this.datepipe=o,this.imagePath=d.b,this.heightError=!1,this.weightError=!1,this.proposalInput={},this.loading=!0,this.insurerMaster=[],this.requestData={},this.applicationData={},this.tabStatus={firstComplete:"indone",secondComplete:"indone",thirdComplete:"indone",fourthOpen:[],fourthDisabled:[],fourthComplete:[],fifthDisabled:!0,fifthComplete:"indone",sixthComplete:"indone",seventhComplete:"indone"},this.pageErrors={insuredError:!1,medicalError:!1,insuredErrorText:"",medicalErrorText:"",mediClaimCondtionText:"",mediClaimError:!1},this.opened={proposerDob:!1,nomineeDob:!1,appointeeDob:!1,policyStartDate:!1},this.proposalError={},this.active=0,this.isProposerInsured=!1,this.tcview=!1,this.medicalQuestions=[],this.insureds=[],this.polCities=[],this.corCities=[],this.polCity={},this.corCity={},this.nomCity={},this.items=[],this.parentIncluded=!1,this.adultDobOptions={},this.nomineeDobOptions={},this.policyStartDateOptions={},this.firstName=null,this.lastName=null,this.userName=null,this.insuredErrors=[]}return e.prototype.ngOnInit=function(){this.userName=atob(sessionStorage.getItem("user")),this.firstName=sessionStorage.getItem("fisrtName"),this.lastName=sessionStorage.getItem("lastName");var e=new Date,o=e.getFullYear(),s=e.getMonth(),n=e.getDate(),r=e.getFullYear(),t=e.getFullYear(),a=e.getFullYear(),i=e.getMonth(),l=e.getDate();this.adultDobOptions={maxDate:new Date(a-18,i,l),minDate:new Date(t-100,s,l)},this.policyStartDateOptions={maxDate:new Date(a,i,l+44),minDate:new Date(t,s,l)},this.nomineeDobOptions={maxDate:new Date(o-18,s,n),minDate:new Date(r-100,s,n)},this.getthePage()},e.prototype.getNomineeAge=function(e){this.proposalInput.proposer.nomineeAge=this.shared.calculateAge(e)},e.prototype.getthePage=function(){var e=this;$("#loader").hide();var o=window.location.href.split("=")[1];console.log(o);var s=decodeURIComponent(o);this.requestData.productId=s.split("/")[2],this.requestData.rmId=s.split("/")[3],this.requestData.customerId=s.split("/")[4],this.requestData.appNo=s.split("/")[5],this.shared.getApplicationData(this.requestData.productId,this.requestData.rmId,this.requestData.customerId,this.requestData.appNo).subscribe(function(o){console.log("getApplicationData",o),o.hasOwnProperty("result")&&(e.loading=!1,e.applicationData=JSON.parse(o.result),e.applicationData.proposalData.authentication={accesskey:"NBIB",secretkey:"NBIB"},e.proposalInput=e.applicationData.proposalData,console.log(e.proposalInput),e.proposalInput.insured.forEach(function(o){o.rmwApplicable=!1;var s=e.shared.calculateAge(o.dob);"F"==o.gender&&s>=18&&s<=43&&(o.rmwApplicable=!0)}),e.proposalInput.proposer.address.forEach(function(o){switch(o.addressType){case"C":e.proposalInput.proposer.corrAddressLine1=o.addressLine1,e.proposalInput.proposer.corrAddressLine2=o.addressLine2,e.proposalInput.proposer.corrCity=o.city,e.proposalInput.proposer.corrCitycode=o.citycode,e.proposalInput.proposer.corrState=o.state,e.proposalInput.proposer.corrStatecode=o.statecode,e.proposalInput.proposer.corrPincode=o.pincode;break;case"P":e.proposalInput.proposer.policyAddressLine1=o.addressLine1,e.proposalInput.proposer.policyAddressLine2=o.addressLine2,e.proposalInput.proposer.policyCity=o.city,e.proposalInput.proposer.policyCitycode=o.citycode,e.proposalInput.proposer.policyState=o.state,e.proposalInput.proposer.policyStatecode=o.statecode,e.proposalInput.proposer.policyPincode=o.pincode}}),e.proposalInput.proposer.contacts.forEach(function(o){switch(o.contactType){case"mobile":e.proposalInput.proposer.mobile=o.contactText;break;case"email":e.proposalInput.proposer.email=o.contactText}}),e.getMaster(e.proposalInput.productId,"Relationship"),e.getMaster(e.proposalInput.productId,"NomineeRel"),e.getQuestions(e.proposalInput.productId,"PedList"),e.getCityFromPincode("P",e.proposalInput.proposer.policyPincode),e.polCity.cityCode=e.proposalInput.proposer.policyCityCode,e.polCity.cityName=e.proposalInput.proposer.policyCity,e.polCity.stateCode=e.proposalInput.proposer.policyStateCode,e.polCity.state=e.proposalInput.proposer.policyState,e.setCityState("P",e.polCity),e.getCityFromPincode("C",e.proposalInput.proposer.corrPincode),e.corCity.cityCode=e.proposalInput.proposer.corrCityCode,e.corCity.cityName=e.proposalInput.proposer.corrCity,e.corCity.stateCode=e.proposalInput.proposer.corrStateCode,e.corCity.state=e.proposalInput.proposer.corrState,e.setCityState("C",e.corCity),e.proposalInput.policy.tcAgree="N")})},e.prototype.nextSection=function(e){switch($("#loader").show(),e){case"1":this.proposalError={key:"",errorPirnt:[]},this.active=1,this.calulateBmi(),this.tabStatus.firstComplete="done",$("#SecondTab").removeClass("tabdisable");break;case"2":this.setRelationship(),this.proposalError={key:"",errorPirnt:[]},this.active=2,this.tabStatus.secondComplete="done",$("#thirdTab").removeClass("tabdisable");break;case"3":this.proposalError={key:"",errorPirnt:[]},this.active=3,this.tabStatus.thirdComplete="done",$("#forthTab").removeClass("tabdisable");break;case"4":this.summaryPrepare(),this.proposalError={key:"",errorPirnt:[]},this.active=4,this.tabStatus.fourthComplete="done",$("#fifthTab").removeClass("tabdisable");break;case"5":this.proposalError={key:"",errorPirnt:[]},this.active=5,this.tabStatus.fifthComplete="done",$("#sixthTab").removeClass("tabdisable")}this.ProcessMedicalQuestions(),this.setpolicyAddress(),this.applicationData.proposalData=this.proposalInput,console.log("saved data",JSON.stringify(this.proposalInput)),this.shared.saveApplicationData(this.applicationData,this.requestData.productId,this.requestData.rmId,this.requestData.customerId,this.requestData.appNo).subscribe(function(o){$("#loader").hide(),$("#panel"+e).removeClass("in active");var s=Number(e)+1;$("#panel"+s).addClass("in active"),$("li:nth-child("+e+")").removeClass("active"),$("li:nth-child("+s+")").addClass("active")})},e.prototype.setpolicyAddress=function(){"Y"==this.proposalInput.proposer.policyRegAddressSame&&this.CopyPolicyAddress();var e,o=[];(e={addressType:"C"}).addressLine1=this.proposalInput.proposer.corrAddressLine1,e.addressLine2=this.proposalInput.proposer.corrAddressLine2,e.addressLine3=this.proposalInput.proposer.corrArea,e.city=this.proposalInput.proposer.corrCity,e.cityCode=this.proposalInput.proposer.corrCityCode,e.state=this.proposalInput.proposer.corrState,e.stateCode=this.proposalInput.proposer.corrStateCode,e.pincode=this.proposalInput.proposer.corrPincode,o.push(e),(e={addressType:"P"}).addressLine1=this.proposalInput.proposer.policyAddressLine1,e.addressLine2=this.proposalInput.proposer.policyAddressLine2,e.addressLine3=this.proposalInput.proposer.policyArea,e.city=this.proposalInput.proposer.policyCity,e.cityCode=this.proposalInput.proposer.policyCityCode,e.state=this.proposalInput.proposer.policyState,e.stateCode=this.proposalInput.proposer.policyStateCode,e.pincode=this.proposalInput.proposer.policyPincode,o.push(e),this.proposalInput.proposer.address=o;var s,n=[];(s={contactType:"mobile"}).contactText=this.proposalInput.proposer.mobile,n.push(s),(s={contactType:"email"}).contactText=this.proposalInput.proposer.email,n.push(s),this.proposalInput.proposer.contacts=n},e.prototype.calulateBmi=function(){this.proposalInput.insured.forEach(function(e){if("A"==e.type){var o=.01*Number(e.height),s=e.weight/(o*o);e.bmi=Math.round(s)}})},e.prototype.ProcessMedicalQuestions=function(){var e=this;this.proposalInput.insured.forEach(function(e){e.pedList.forEach(function(e){e.pedData=[],e.exists="N"})}),this.medicalQuestions.forEach(function(o){"Y"==o.exists&&(o.details.forEach(function(s){var n=o.code,r=s.insuredId;e.proposalInput.insured.forEach(function(o){o.insuredId==r&&o.pedList.forEach(function(o){if(o.pedCode==n){o.exists="Y";var r={};s.conditionSince&&(r.conditionSince=e.datepipe.transform(new Date(s.conditionSince),"yyyy-MM")),s.details&&(r.details=s.details),o.pedData.push(r)}})})}),console.log(e.proposalInput.insured))})},e.prototype.CopyPolicyAddress=function(){this.proposalInput.proposer.corrAddressLine1=this.proposalInput.proposer.policyAddressLine1,this.proposalInput.proposer.corrAddressLine2=this.proposalInput.proposer.policyAddressLine2,this.proposalInput.proposer.corrAddressLine3=this.proposalInput.proposer.policyAddressLine3,this.proposalInput.proposer.corrLandmark=this.proposalInput.proposer.policyLandmark,this.proposalInput.proposer.corrStateCode=this.proposalInput.proposer.policyStateCode,this.proposalInput.proposer.corrState=this.proposalInput.proposer.policyState,this.proposalInput.proposer.corrCityCode=this.proposalInput.proposer.policyCityCode,this.proposalInput.proposer.corrCity=this.proposalInput.proposer.policyCity,this.proposalInput.proposer.corrPincode=this.proposalInput.proposer.policyPincode},e.prototype.setRelationship=function(){var e=this;this.proposalInput.insured.forEach(function(o){"SELF"==o.relationshipId?(e.proposalInput.proposer.title=o.title,e.proposalInput.proposer.firstName=o.firstName,e.proposalInput.proposer.middleName=o.middleName,e.proposalInput.proposer.lastName=o.lastName,e.proposalInput.proposer.gender=o.gender,e.proposalInput.proposer.proposerDob=o.dob,e.proposalInput.proposer.occupationType=o.occupationType,e.proposalInput.proposer.maritalStatus=o.maritalStatus,e.proposalInput.proposer.IsProposerInsured="Y",e.isProposerInsured=!0,console.log(e.proposalInput.proposer)):e.proposalInput.proposer.isPrimaryInsured="N"})},e.prototype.formatDates=function(){this.proposalInput.policy.policyStartdate=this.proposalInput.policy.policyStartdate=this.datepipe.transform(this.proposalInput.policy.policyStartdate,"mm/dd/yyyy"),void 0!==this.proposalInput.proposer.proposerDob&&""!=this.proposalInput.proposer.proposerDob&&(this.proposalInput.proposer.proposerDob=this.datepipe.transform(this.proposalInput.proposer.proposerDob,"yyyy-mm-dd")),void 0!==this.proposalInput.proposer.nomineeDob&&""!=this.proposalInput.proposer.nomineeDob&&(this.proposalInput.proposer.nomineeDob=this.datepipe.transform(this.proposalInput.proposer.nomineeDob,"yyyy-mm-dd")),void 0!==this.proposalInput.proposer.appointeeDOB&&""!=this.proposalInput.proposer.appointeeDOB&&(this.proposalInput.proposer.appointeeDOB=this.datepipe.transform(this.proposalInput.proposer.appointeeDOB,"yyyy-mm-dd"))},e.prototype.getMaster=function(e,o){var s=this;this.insurerMaster[o]=[],this.shared.getMastersforProd(e,o).subscribe(function(e){console.log("getMastersforProd",e),s.insurerMaster[o]=e.result,"Relationship"==o&&s.addGendertoRel()})},e.prototype.addGendertoRel=function(){var e=this,o=[];this.insurerMaster.Relationship.forEach(function(s){var n=s;n.gender=e.getRelGender(s.elementue),o.push(n)}),this.insurerMaster.Relationship=o},e.prototype.getRelGender=function(e){var o="MF";return"Wife"==e||"Aunt"==e||"Daughter"==e||"Daughter in law"==e||"Grand Daughter"==e||"Grand Mother"==e||"Mother in law"==e||"Mother"==e||"Niece"==e||"Sister in law"==e||"Sister"==e?o="F":"Brother in law"!=e&&"Brother"!=e&&"Father in law"!=e&&"Father"!=e&&"Grand Father"!=e&&"Grand Son"!=e&&"Husband"!=e&&"Nephew"!=e&&"Son in law"!=e&&"Son"!=e&&"Uncle"!=e||(o="M"),o},e.prototype.getQuestions=function(e,o){var s=this;this.shared.getMedicalQns(e,o).subscribe(function(e){e.hasOwnProperty("result")&&"PedList"==o&&(s.medicalQuestions=e.result,s.initializeMedicalQuestions())})},e.prototype.initializeMedicalQuestions=function(){for(var e=this,o=0;o<this.medicalQuestions.length;o++)this.medicalQuestions[o].details=[],this.medicalQuestions[o].exists="","YESNOText"==this.medicalQuestions[o].reponsetype?this.medicalQuestions[o].dateNeeded="Y":this.medicalQuestions[o].dateNeeded="N",this.medicalQuestions[o].detailNeeded="N","504"!=this.medicalQuestions[o].code&&"210"!=this.medicalQuestions[o].code&&"201"!=this.medicalQuestions[o].code||(this.medicalQuestions[o].detailNeeded="Y");this.insureds=[],this.proposalInput.insured.forEach(function(o){var s=o.insuredId,n=o.firstName+" "+o.lastName;o.pedList.forEach(function(r){for(var t=r.pedCode,a=0;a<e.medicalQuestions.length;a++)e.medicalQuestions[a].code==t&&(""==e.medicalQuestions[a].exists&&(e.medicalQuestions[a].exists=r.exists),"Y"==r.exists&&(e.medicalQuestions[a].exists="Y",r.pedData.forEach(function(r){var i={};(i={}).insuredId=s.toString(),i.insuredDob=new Date(o.dob),i.insuredName=n,i.code=t,i.conditionSince=r.conditionSince,i.details=r.details,e.medicalQuestions[a].details.push(i)})))})}),console.log(this.medicalQuestions)},e.prototype.summaryPrepare=function(){for(var e=this,o=0;o<this.medicalQuestions.length;o++)this.medicalQuestions[o].details=[],this.medicalQuestions[o].exists="","YESNOText"==this.medicalQuestions[o].reponsetype?this.medicalQuestions[o].dateNeeded="Y":this.medicalQuestions[o].dateNeeded="N",this.medicalQuestions[o].detailNeeded="N","504"!=this.medicalQuestions[o].code&&"210"!=this.medicalQuestions[o].code&&"201"!=this.medicalQuestions[o].code||(this.medicalQuestions[o].detailNeeded="Y");this.insureds=[],this.proposalInput.insured.forEach(function(o){var s=o.insuredId,n=o.firstName+" "+o.lastName;o.pedList.forEach(function(r){for(var t=r.pedCode,a=0;a<e.medicalQuestions.length;a++)e.medicalQuestions[a].code==t&&(""==e.medicalQuestions[a].exists&&(e.medicalQuestions[a].exists=r.exists),"Y"==r.exists&&(e.medicalQuestions[a].exists="Y",r.pedData.forEach(function(r){var i={};(i={}).insuredId=s.toString(),i.insuredDob=new Date(o.dob),i.insuredName=n,i.code=t,i.conditionSince=new Date(r.conditionSince+"-01"),i.details=r.details,e.medicalQuestions[a].details.push(i)})))})})},e.prototype.backSection=function(e){$("#panel"+e).removeClass("in active");var o=Number(e)-1;$("#panel"+o).addClass("in active"),$("li:nth-child("+e+")").removeClass("active"),$("li:nth-child("+o+")").addClass("active")},e.prototype.getCityFromPincode=function(e,o){var s=this;new RegExp("^[0-9]{6}$").test(o)&&this.shared.getCityFromPin(this.proposalInput.insurerId,o).subscribe(function(o){o.hasOwnProperty("result")&&("P"==e?(s.proposalInput.proposer.policyCity=o.result[0].cityName,s.proposalInput.proposer.policyCityCode=o.result[0].cityCode,s.proposalInput.proposer.policyState=o.result[0].stateCode,s.proposalInput.proposer.policyStateCode=o.result[0].stateCode):(s.proposalInput.proposer.corrCity=o.result[0].cityName,s.proposalInput.proposer.corrCityCode=o.result[0].cityCode,s.proposalInput.proposer.corrState=o.result[0].stateCode,s.proposalInput.proposer.corrStateCode=o.result[0].stateCode))})},e.prototype.setCityState=function(e,o){console.log(o),void 0!==o&&("P"==e?(this.proposalInput.proposer.policyCity=o.cityName,this.proposalInput.proposer.policyCityCode=o.cityCode,this.proposalInput.proposer.policyState=o.stateCode,this.proposalInput.proposer.policyStateCode=o.stateCode):(this.proposalInput.proposer.corrCity=o.cityName,this.proposalInput.proposer.corrCityCode=o.cityCode,this.proposalInput.proposer.corrState=o.stateCode,this.proposalInput.proposer.corrStateCode=o.stateCode))},e.prototype.AddMedicalRow=function(e){for(var o={insuredId:"",conditionSince:""},s=0;s<this.medicalQuestions.length;s++)if(this.medicalQuestions[s].code==e){this.medicalQuestions[s].details.push(o),console.log(this.medicalQuestions[s].details);break}this.medicalPageComplete()},e.prototype.openQ=function(e,o){var s=e+"_"+o;this.opened[s]=!0},e.prototype.DeleteMedicalRow=function(e,o){this.insuredErrors[o]="",this.pageErrors.insuredError=!1;for(var s=0;s<this.medicalQuestions.length;s++)if(this.medicalQuestions[s].code==e){this.medicalQuestions[s].details.splice(o,1);break}this.medicalPageComplete()},e.prototype.checkRelationShip=function(){var e=this;this.pageErrors.insuredError=!1,this.pageErrors.insuredErrorText="",this.proposalInput.proposer.title="",this.proposalInput.proposer.firstName="",this.proposalInput.proposer.middleName="",this.proposalInput.proposer.lastName="",this.proposalInput.proposer.gender="",this.proposalInput.proposer.proposerDob="",this.proposalInput.proposer.occupationType="",this.proposalInput.proposer.maritalStatus="",this.proposalInput.proposer.designation="",this.proposalInput.proposer.business="",this.isProposerInsured=!1,this.proposalInput.proposer.isPrimaryInsured="N",this.proposalInput.proposer.IsProposerInsured="N";var o=0,s=[];this.proposalInput.insured.forEach(function(n){var r=n.relationshipId;switch("A"==n.type?("GDAU"!=r&&"GSON"!=r&&"NEPH"!=r&&"NIEC"!=r&&"SONM"!=r&&"UDTR"!=r&&"NBON"!=r||(e.pageErrors.insuredError=!0,e.pageErrors.insuredErrorText="Invalid Adult RelationShip"),2==e.proposalInput.policy.numAdults&&"SINGLE"==n.maritalStatus&&(e.pageErrors.insuredError=!0,e.pageErrors.insuredErrorText="Adults Must be Married"),s.push(r)):("GDAU"!=r&&"GSON"!=r&&"NEPH"!=r&&"NIEC"!=r&&"SON"!=r&&"UDTR"!=r&&"NBON"!=r&&(e.pageErrors.insuredError=!0,e.pageErrors.insuredErrorText="Child can only be Daughter, Grand Daughter, Grand Son & Son"),"SINGLE"!=n.maritalStatus&&(e.pageErrors.insuredErrorText="Children must be Unmarried")),r){case"SELF":e.proposalInput.proposer.title=n.title,e.proposalInput.proposer.firstName=n.firstName,e.proposalInput.proposer.middleName=n.middleName,e.proposalInput.proposer.lastName=n.lastName,e.proposalInput.proposer.gender=n.gender,e.proposalInput.proposer.proposerDob=new Date(n.dob),e.proposalInput.proposer.occupationType=n.occupationType,e.proposalInput.proposer.maritalStatus=n.maritalStatus,e.proposalInput.proposer.IsProposerInsured="Y","C"==n.type&&(e.pageErrors.insuredError=!0,e.pageErrors.insuredErrorText="Child cannot be a proposer"),o++,e.isProposerInsured=!0,console.log(e.proposalInput.proposer);break;case"FATH":case"MOTH":e.parentIncluded=!0}}),o>1&&(this.pageErrors.insuredError=!0,this.pageErrors.insuredErrorText="Multiple Self Relations not allowed"),this.pageErrors.insuredError||2!=this.proposalInput.policy.numAdults||(this.pageErrors.insuredError=!0,this.pageErrors.insuredErrorText="Adults Must be Husband/Wife","SELF"==s[0]&&"WIFE"==s[1]&&(this.pageErrors.insuredError=!1,this.pageErrors.insuredErrorText=""),"SELF"==s[1]&&"WIFE"==s[0]&&(this.pageErrors.insuredError=!1,this.pageErrors.insuredErrorText=""),"FATH"==s[0]&&"MOTH"==s[1]&&(this.pageErrors.insuredError=!1,this.pageErrors.insuredErrorText=""),"FLAW"==s[0]&&"MLAW"==s[1]&&(this.pageErrors.insuredError=!1,this.pageErrors.insuredErrorText=""),"MDTR"==s[0]&&"SIST"==s[1]&&(this.pageErrors.insuredError=!1,this.pageErrors.insuredErrorText=""),"BOTH"==s[0]&&"MMBR"==s[1]&&(this.pageErrors.insuredError=!1,this.pageErrors.insuredErrorText=""),"MANT"==s[0]&&"MUNC"==s[1]&&(this.pageErrors.insuredError=!1,this.pageErrors.insuredErrorText=""),"FATH"==s[1]&&"MOTH"==s[0]&&(this.pageErrors.insuredError=!1,this.pageErrors.insuredErrorText=""),"FLAW"==s[1]&&"MLAW"==s[0]&&(this.pageErrors.insuredError=!1,this.pageErrors.insuredErrorText=""))},e.prototype.samePolicyCorrAddress=function(e){"Y"==e?this.CopyPolicyAddress():(this.proposalInput.proposer.corrAddressLine1="",this.proposalInput.proposer.corrAddressLine2="",this.proposalInput.proposer.corrAddressLine3="",this.proposalInput.proposer.corrLandmark="",this.proposalInput.proposer.corrStateCode="",this.proposalInput.proposer.corrState="",this.proposalInput.proposer.corrCityCode="",this.proposalInput.proposer.corrCity="",this.proposalInput.proposer.corrPincode="")},e.prototype.premiumAdd=function(e,o,s){this.proposalInput.policy.premiumPayable="Y"==o?Number(this.proposalInput.policy.premiumPayable)+Number(Math.round(s)):Number(this.proposalInput.policy.premiumPayable)-Number(Math.round(s))},e.prototype.populateCoverData=function(){var e=this,o=[];this.proposalInput.addons.forEach(function(s){if("Y"==s.isSelected){o.push(s);var n={};n.name=s.coverId,e.proposalInput.covers.push(n)}});for(var s=0;s<this.proposalInput.insured.length;s++)if("Y"==this.proposalInput.insured.rmw){var n={name:"MA"};this.proposalInput.covers.push(n);break}},e.prototype.makePayment=function(){var e=this;$("#loader").show(),this.proposalInput=this.toRemoveEmptyPedList(this.proposalInput),console.log(this.proposalInput),"N"==this.proposalInput.policy.floater&&(this.proposalInput.policy.floaterSi=this.proposalInput.policy.sumInsured),this.proposalError.errorPirnt=[];var o=this.proposalInput;o.proposer.nomineeName=o.proposer.nomineeFirstName+" "+o.proposer.nomineeLastName,o.policy.policyStartdate=this.datepipe.transform(new Date(o.policy.policyStartdate),"yyyy-MM-dd"),o.proposer.proposerDob=this.datepipe.transform(new Date(o.proposer.proposerDob),"yyyy-MM-dd"),o.proposer.nomineeDob=this.datepipe.transform(new Date(o.proposer.nomineeDob),"yyyy-MM-dd"),this.shared.submitProposal(o,this.proposalInput.insurerId,this.proposalInput.productId).subscribe(function(o){if(console.log("MAKE PAYMENT RESPONSE",o),o.error){var s=o.error;e.proposalError.errorPirnt=e.cleanArray(s.split(";")),$("#loader").hide(),"Premium Mismatch"==o.error&&e.newPreMiumMismatch({premiumPayable:o.premiumPayable,premiumPassed:o.premiumPassed})}else if(o.hasOwnProperty("online_purchase_link")){var n=o.online_purchase_link+"?proposalNum="+o.proposalNum+"&returnURL="+o.returnURL;$("#loader").hide(),window.open(n,"_blank")}else e.proposalError={key:"Proposal Submission couldn't be completed due to the following errors",errorPirnt:[]},s="Unexpected error while submitting proposal",e.proposalError.errorPirnt=e.cleanArray(s.split(";")),$("#loader").hide();e.loading=!1})},e.prototype.toRemoveEmptyPedList=function(e){var o=this;return e.insured.forEach(function(e,s){e.pedList.forEach(function(e,s){e.pedData.length>0&&o.isEmpty(e.pedData[0])&&(e.pedData=[])})}),e},e.prototype.isEmpty=function(e){return 0===Object.keys(e).length},e.prototype.validateHeight=function(e){this.heightError=e<20||e>200},e.prototype.validateWeight=function(e){this.weightError=e<2||e>300},e.prototype.medicalPageComplete=function(){var e=this;this.pageErrors.medicalError=!1,this.pageErrors.medicalErrorText="";this.medicalQuestions.forEach(function(o){o.errorText="","N"==o.exists&&(o.details=[]),"Y"==o.exists&&"Y"==o.dateNeeded&&(0==o.details.length?(e.pageErrors.medicalError=!0,e.pageErrors.medicalErrorText="Please Provide the details of the Medical condition"):(e.pageErrors.medicalError=!1,e.pageErrors.medicalErrorText=""))})},e.prototype.checkDuplicateInsured=function(e,o,s){var n=this;this.insuredErrors[o]="",this.pageErrors.insuredError=!1,this.proposalInput.insured.forEach(function(r,t){r.insuredId==s&&t!=o&&(n.pageErrors.insuredError=!0,n.medicalQuestions[e].details[o]={insuredId:-1},n.insuredErrors[o]="Insured Allready selected.")})},e.prototype.editFields=function(e,o){this.initializeMedicalQuestions(),$("#panel"+e).addClass("in active"),$("#panel"+o).removeClass("in active"),$("li:nth-child("+e+")").addClass("active"),$("li:nth-child("+o+")").removeClass("active")},e.prototype.agreeTC=function(e){"agree"==e?(this.tcview=!0,this.proposalInput.policy.tcAgree=!0,this.proposalInput.policy.declarationAgree="Y"):(this.tcview=!1,this.proposalInput.policy.tcAgree=!1,this.proposalInput.policy.declarationAgree="N")},e.prototype.cleanArray=function(e){for(var o=new Array,s=0;s<e.length;s++)e[s]&&o.push(e[s]);return o},e.prototype.newPreMiumMismatch=function(e){this.items=e,$("#newPremiumModal").modal("show")},e.prototype.submitNewPrem=function(){this.items.userChoice="Yes",this.proposalInput.policy.premiumPayable=this.items.premiumPayable,$("#newPremiumModal").modal("hide"),this.makePayment()},e.prototype.getPolicyEndDate=function(e){if(void 0!==e&&""!=e){var o=new Date(e);this.proposalInput.policy.policyEnddate=this.datepipe.transform(new Date(o.getFullYear()+Number(this.proposalInput.policy.tenure),o.getMonth(),o.getDate()-1),"yyyy-MM-dd")}},e.prototype.changePass=function(){var e=document.getElementById("Old-Password").value,o=document.getElementById("New-Password").value;e!=atob(sessionStorage.getItem("paswrd"))&&(document.getElementById("messageTouser").innerHTML="The old password entered is incorrect.",$("#resultModal").modal("show"));e==o&&(console.log("password not correct"),document.getElementById("messageTouser").innerHTML="The new password should not be same as the old password",$("#resultModal").modal("show"));this.shared.getchangePwd(this.userName,e,o).subscribe(function(e){"success"==e.result&&(document.getElementById("messageTouser").innerHTML="Password has been changed successfully",$("#resultModal").modal("show"),$("#exampleModal").modal("hide"))})},e=c([Object(n.n)({selector:"app-religare",template:s("vhjM"),styles:[s("Cx24")]}),u("design:paramtypes",[p.a,a.e])],e)}();s.d(o,"ROUTES",function(){return v}),s.d(o,"ReligareHealthModule",function(){return g});var h=function(e,o,s,n){var r,t=arguments.length,a=t<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,o,s,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(t<3?r(a):t>3?r(o,s,a):r(o,s))||a);return t>3&&a&&Object.defineProperty(o,s,a),a},v=[{path:"",component:m}],g=function(){function e(){}return e=h([Object(n.K)({imports:[t.e,a.b,r.d.forChild(v)],declarations:[m,i.a,l.a]})],e)}()},Cx24:function(e,o){e.exports='.form-panel .heads {\r\n    margin-top: 5% !important;\r\n  }\r\n  /* option[value="{{insured.insuredId}}"] {\r\n    pointer-events: none;\r\n  }  */\r\n  #menu\r\n  {\r\n  left: 824px;\r\n  }\r\n  .q-point {\r\n  color: #AEAEAE;\r\n  font-size: 15px;\r\n  font-weight: 700;\r\n  left: 0;\r\n  position: absolute;\r\n  line-height: 20px;\r\n  }\r\n  @media only screen \r\n  and (min-device-width : 768px) \r\n  and (max-device-width : 1024px) \r\n  and (orientation : portrait)\r\n  {\r\n  .q-point {\r\n    color: #AEAEAE;\r\n    font-size: 15px;\r\n    font-weight: 700;\r\n    left: 0;\r\n    position: absolute;\r\n    line-height: 20px;\r\n  }\r\n  \r\n  #dbs {\r\n  width: 68% !important;\r\n  float: left;\r\n  height: auto;\r\n  }\r\n  .form-panel .heads {\r\n    margin-top: 19% !important;\r\n  }\r\n  .extraSpace{\r\n      \r\n  width: 100% !important;\r\n  float: left;\r\n  height: auto;\r\n  margin-top: 34%!important;\r\n  }\r\n  \r\n  \r\n  #menu\r\n    {\r\n      left: 348px;\r\n    }\r\n  }\r\n  @media only screen \r\n  and (min-device-width : 768px) \r\n  and (max-device-width : 1024px) \r\n  and (orientation : landscape)\r\n  \r\n  {\r\n  .extraSpace {\r\n    margin-left: 22px !important;\r\n    margin-top: 28% !important;\r\n    left: 10px;\r\n  }\r\n  .form-panel .heads {\r\n    margin-top: 12% !important;\r\n  \r\n  }\r\n  #menu\r\n  {\r\n  left: 458px !important;\r\n  \r\n  }\r\n  }'},vhjM:function(e,o){e.exports='<div>\n  <div class="rootCus">\n    <div class="brand" ><a routerLink="/"  ><img src="../../../../assets/images/SelectAssure2.png" class="logo" alt=""></a></div>\n    <label for="show-menu" class="show-menu"><img src="../../../../assets/images/menu-btn.png" alt=""></label>\n    <ul id="menu">\n      <li><a routerLink="/" style=" line-height:18px;" ><img src="../../../../assets/images/HomeICON.png" alt=""></a></li>         \n      <li><a routerLink="../../home/mycustomer" style="line-height:18px;"><img src="../../../../assets/images/MyCustomerICON.png" alt=""></a></li>           \n       <li><a routerLink="../../home/myActivities"style="line-height:18px;"><img src="../../../../assets/images/My_activities.png" alt=""></a></li>           \n      <li><a routerLink="/" style=" line-height:18px;"><img src="../../../../assets/images/renewal.png" alt=""></a></li>           \n      <li><a (click) ="userSignout()" style=" line-height:18px;"><img src="../../../../assets/images/SignInICON.png" alt=""></a></li>    \n    </ul>\n\n  </div>\n  <div id="dbs">\n    <div class="zerogrid" style="width: 100%;" *ngIf="!loading">\n        <div class="content searchheaderpanel proposal_form" id="cignaPanel">\n            <div class="col-xs-12  cf-title clearfix">\n                   <div class="proposal_heading">\n                    <span>Health Insurance for {{proposalInput.policy.numAdults}} Adult(s)</span>\n                    <span *ngIf ="proposalInput.policy.numChildren > 0"> and {{proposalInput.policy.numChildren}} Children</span>\n                    <span *ngIf ="proposalInput.policy.floater == \'Y\'">on Floater Basis</span>\n                    <span *ngIf ="proposalInput.policy.floater != \'Y\'">on Individual Basis</span>\n                  </div>\n              </div>\n              <div class="col-xs-4 col-sm-3 pnone">\n                  <div class="insurer-img">\n                    <img class="img-responsive" src = "{{imagePath}}/image/ilogo/i{{proposalInput.insurerId}}.png">\n                    \n                  </div>\n                </div>\n                <div class="col-xs-8 col-sm-9" >\n                    <div class="pol-name">{{proposalInput.insurerName}}  {{proposalInput.productName}}</div>\n                    <div class="pol-val">\n                      <span>Sum Insured</span>\n                      <span class="value">{{proposalInput.policy.sumInsured | currency: \'INR\':\'true\'}}</span>\n                      <br class="visible-xs visible-sm">\n                      <span>ANNUAL PREMIUM</span>\n                      <span class="value">{{proposalInput.policy.premiumPayable | currency: \'INR\':\'true\'}}</span>\n                      <span class="val-typ" style="font-size: 12px;">(Includes 18.0% Goods and Services Tax)*</span>\n                    </div>\n                </div>\n\n        </div>\n        \n        <div id="stage_data" *ngIf="!loading">\n            <ul class="nav nav-pills nav-wizard extraSpace">\n                <li class="active"><a href="#panel1" data-toggle="tab" (click)="initializeMedicalQuestions()">Insured<span *ngIf="tabStatus.firstComplete==\'done\'"><img class="checkRight" src="../../../../../assets/images/checkmark.png"></span> </a></li>\n                <li id="SecondTab" class="tabdisable"><a href="#panel2" (click)="initializeMedicalQuestions()" data-toggle="tab">Medical History<span *ngIf="tabStatus.secondComplete==\'done\'"><img class="checkRight" src="../../../../../assets/images/checkmark.png"></span> </a></li>\n                <li id="thirdTab" class="tabdisable"><a href="#panel3" (click)="initializeMedicalQuestions()" data-toggle="tab">Proposer<span *ngIf="tabStatus.thirdComplete==\'done\'"><img class="checkRight" src="../../../../../assets/images/checkmark.png"></span> </a></li>\n                <li id="forthTab" class="tabdisable"><a href="#panel4" (click)="initializeMedicalQuestions()" data-toggle="tab">Contact Info<span *ngIf="tabStatus.fourthComplete==\'done\'"><img class="checkRight" src="../../../../../assets/images/checkmark.png"></span> </a></li>\n                <li id="fifthTab" class="tabdisable"><a href="#panel5" (click)="initializeMedicalQuestions()" data-toggle="tab">Summary<span *ngIf="tabStatus.fifthComplete==\'done\'"><img class="checkRight" src="../../../../../assets/images/checkmark.png"></span> </a></li>\n                 </ul>\n            </div>\n    <div class="tab-content">\n\n   <div class="tab-pane fade in active content searchheaderpanel" id="panel1">\n      <form id="cigna-insured-form" class="form-horizontal" #insuredform = "ngForm" autocomplete="off" novalidate >\n      <div class="form-panel ">     \n          <div class="heads">Insured Members</div>\n             <div class = "clear"></div>\n             <div class="body">\n                <div class="main-section">\n                  <div class="proposer-process">\n                    <div class="define">\n                      <img src="../../../../../assets/images/info.png">\n                      <span>Who do you want to Insure?</span>\n                    </div>\n                    <div class="row mnone insured_mnone" *ngFor="let insured of proposalInput.insured; let i=index">\n                        <div class="">Insured Person\'s Details for <span *ngIf="insured.type==\'A\'">Adult</span><span *ngIf="insured.type==\'C\'">Child</span> DOB: {{insured.dob |date:\'yyyy-MM-dd\'}}</div>\n                        <div class="col-sm-10" style="margin-bottom:10px;">\n                            <div class="col-sm-4">\n                                <div class="form-group dateInsuSpace  required">\n                                 <label class="control-label">Title</label>\n                                 <div class="" *ngIf="insured.gender==\'M\'"  >\n                                 <select class="form-control" [(ngModel)]="insured.title" name="titleForMale{{i}}" required>\n                                   <option value="">Select</option>\n                                     <option value="MASTER">Master</option>\n                                     <option value="MR">Mr</option>\n                                 </select>\n                               </div>\n                             \n                             <div class="" *ngIf="insured.gender==\'F\'"  >\n                               \n                               <select class="form-control" [(ngModel)]="insured.title" name="titleFemale{{i}}" required>\n                                 <option value="">Select</option>\n                                   <option value="MS">Ms</option>\t\t\t\t    \t\t\t\t\t\n                               </select>\n                             </div>\n                             </div>\n                              </div>\n                              <div class="col-sm-4">\n                                <div class="form-group dateInsuSpace required" [ngClass]="{\'has-error\':GivName.invalid && !GivName.pristine}">\n                                 <label class="control-label required">First Name</label>\n                                 <input type="text" class="form-control" #GivName="ngModel" name="GivName{{i}}" minlength="3" maxlength="40" pattern="^[a-zA-Z ]*$" [(ngModel)]="insured.firstName" required>\n                                </div>\n                              </div>\n                              \n                              <div class="col-sm-4">\n                                <div class="form-group dateInsuSpace required" [ngClass]="{\'has-error\':middleName.invalid && !middleName.pristine}">\n                                  <div class="control-label required">Middle Name</div>\n                                  <input type="text" class="form-control" #middleName="ngModel"  name="middleName{{i}}" pattern="^[a-zA-Z ]*$" [(ngModel)]="insured.middleName">\n                                </div>\n                              </div>\n                              <div class="col-sm-4">\n                                <div class="form-group dateInsuSpace required" [ngClass]="{\'has-error\':lastName.invalid && !lastName.pristine}">\n                                 <label class="control-label">Last Name</label>\n                                 <input type="text" class="form-control" #lastName="ngModel"  name="lastName{{i}}" minlength="3" maxlength="40" pattern="^[a-zA-Z ]*$" [(ngModel)]="insured.lastName" required>\n                                </div>\n                              </div>\n                               \n                              <div class="col-sm-4" style="margin-bottom: -20px;">\n                                <div class="form-group dateInsuSpace required">\n                                <label class="control-label">Date of Birth</label>\n                                <div class="">\n                                      <input type="date" class="form-control" disabled [(ngModel)]="insured.dob" min="{{adultDobOptions.minDate | date: \'yyyy-MM-dd\'}}" max="{{adultDobOptions.maxDate | date: \'yyyy-MM-dd\'}}" name="insureddob{{i}}" required />\n                                   \n                             </div>\n                             </div>\n                              </div>\n                              <div class="col-sm-4">\n                                  <div class="form-group dateInsuSpace required">\n                                   <label class="control-label">Gender</label>\n                                   <div class = "clear"></div>\n                                   <div class="btn-group" data-toggle="buttons">\n                                   <label class="btn btn-primary btn_prim" [(ngModel)]="insured.gender" (click)="insured.gender=\'M\'" [ngClass]="{\'active\':insured.gender==\'M\'}" id="\'M{{i}}\'" name="insuredGender{{i}}"  required ngDefaultControl>Male</label>\n                                   <label class="btn btn-primary btn_prim" [(ngModel)]="insured.gender" (click)="insured.gender=\'F\'" [ngClass]="{\'active\':insured.gender==\'F\'}" id="\'F{{i}}\'" name="insuredGender{{i}}" required ngDefaultControl>Female</label>\n                                 </div>\n                               </div>\n                                </div>\n                                <div class="col-sm-4">\n                                  <div class="form-group dateInsuSpace required">\n                                   <label class="control-label">Relationship with Proposer</label>\n                                   <div class="">\n                                     <select class=" form-control" name="relaInsured{{i}}" disabled [(ngModel)]="insured.relationshipId" (change) = "checkRelationShip()"  required>\n                                     <option value="">Select</option>\n                                     <option value="{{item.id}}" *ngFor="let item of insurerMaster.Relationship">{{item.value}}</option>\n                                   </select>\n                                 </div>\n                               </div>\n                                </div>\n                                   <div class="col-sm-4">\n                                      <div class="form-group dateInsuSpace required">\n                                      <label class="control-label">ID Type</label>\n                                       <select class="form-control" name = "idType{{i}}" [(ngModel)]="insured.idType" required>\n                                         <option value="">Select</option>\n                                         <option value="PAN">PAN</option>\n                                         <option value="PASSPORT">Passport</option>\n                                       </select>\n                                     </div>\n                                   </div>\n                                 \n                                   <div class="col-sm-4" [ngClass]="{\'has-error\':pan.invalid && !pan.pristine}">\n                                     <div class="form-group dateInsuSpace required" >\n                                     <label class="control-label" >ID Number</label>\n                                     <input type="text" name="pan{{i}}" #pan="ngModel" class="form-control" [(ngModel)]="insured.idNumber" pattern="^([A-Z]{5}[0-9]{4}[A-Z]{1})|([A-Z]{1}[0-9]{6,7})$"  required>\n                                     </div>\n                                   </div>\n                                   <div class="col-sm-4" [ngClass]="{\'has-error\':height.invalid && !height.pristine}">\n                                    <div class="form-group dateInsuSpace required" >\n                                    <label class="control-label">Height in cm</label>\n                                    <input type="text" name= "height{{i}}" #height="ngModel" class="form-control" pattern="^[0-9]*$" maxlength="3" [(ngModel)]="insured.height" (input)="validateHeight(insured.height)"  required>\n                                    <span *ngIf="heightError" class="has-error" id="heightError" style="color:red">please enter Height between 20 to 200 cm</span>\n                                     \n                                  </div>\n                                  </div>            \n                                  <div class="col-sm-4" [ngClass]="{\'has-error\':weight.invalid && !weight.pristine}">\n                                      <div class="form-group dateInsuSpace required">\n                                      <label class="control-label"> Weight in kg</label>\n                                      <input type="text" name = "weight{{i}}" #weight="ngModel" class="form-control" pattern="^[0-9]*$" maxlength="3" [(ngModel)]="insured.weight" (input)="validateWeight(insured.weight)" required>\n                                      <span *ngIf="weightError" class="has-error" id="weightError" style="color:red">please enter weight between 2 to 300 kgs</span>\n                                     \n                                    </div>\n                                   </div> \t\t\t\t\t\t\t\t\n                                     <div class = "clear"></div>\n                                     <div>\n                                       <div class="col-sm-6">\n                                       <div class="form-group dateInsuSpace required">\n                                        <label class="control-label">Smoke or Consume tobacco Products</label>\n                                        <div class = "clear"></div>\n                                        <div class="btn-group" data-toggle="buttons">\n                                        <label class="btn btn-primary btn_prim" [(ngModel)]="insured.tobacco" (click)="insured.tobacco=\'Y\'" [ngClass]="{\'active\':insured.tobacco==\'Y\'}" id="tobaccoY" name="tobacco{{i}}"  required ngDefaultControl>Yes</label>\n                                        <label class="btn btn-primary btn_prim" [(ngModel)]="insured.tobacco" (click)="insured.tobacco=\'N\'" [ngClass]="{\'active\':insured.tobacco==\'N\'}" id="tobaccoN" name="tobacco{{i}}" required ngDefaultControl>No</label>\n                                      </div>\n                                    </div>\n                                       </div>\n                                     </div>\n                                     <div class = "clear"></div>\n                  </div>\n                 \n                  </div>\n                  <div class = "clear"></div>\n                  <div class="row">\n                    <div class="col-sm-12">\n                       <span *ngIf="pageErrors.insuredError" class="has-error" id="insuredError" style="color:red">{{pageErrors.insuredErrorText}}</span>\n                       <span class="has-error" id="insuredError" style="color:red">{{InsuredGenderError}}</span>\n                     </div>\n                  </div>\n              \n                    </div>\n                    </div>\n                    </div>\n                    <div class = "clear"></div>\n                    <div class="foot">\n                        <div class="clearfix">\n                          <div class="cf-pull-right">\n                              <button class="btn cf-btn btn-lg btn-gry" (click)="backSection(\'1\')">\n                                  <img src="../../../../../assets/images/arrow-left.png">&nbsp;Back\n                            </button>\n                            <button class="btn cf-btn btn-lg btn-default btn-grn" [disabled]="insuredform.form.invalid||heightError||weightError" (click)="nextSection(\'1\')">Continue <img src="../../../../../assets/images/arrow-right.png"> </button>\n                          </div>\n                        </div>\n                    </div>\n                    </div>\n                    </form>\n                    </div>\n \x3c!--Insured ends here--\x3e\n <div class="tab-pane fade content searchheaderpanel" id="panel2">\n    <form id="reliagre-medical-form" class="form-horizontal" #medicalform = "ngForm" autocomplete="off" novalidate >\n    <div class="form-panel ">     \n        <div class="heads">Medical History</div>\n           <div class = "clear"></div>\n           <div class="body">\n              <div class="main-section">\n                <div class="proposer-process">\n                  <div class="define">\n                    <img src="../../../../../assets/images/info.png">\n                    <span>Have any of the person proposed to be insured ever suffered from/ are currently suffering from any inujry or preexisting illness</span>\n                  </div>\n                  <div class="row mnone conditional-question" *ngFor="let question of medicalQuestions; let k=index">\n                      <div class="col-sm-10 pnone">\n                      <div class="quest-pad">\n                        <span>Q {{question.seq}} </span>\n                        <span >{{question.questiontext}}</span><br>\n                      </div>\n                    </div>\n                    <div classs="col-sm-4 pnone">\n                       <div class="btn-group" data-toggle="buttons">\n                        <label class="btn btn-primary btn_prim" [(ngModel)]="question.exists" (click)="question.exists=\'Y\';medicalPageComplete();" [ngClass]="{\'active\':question.exists==\'Y\'}" id="medical{{k}}" name="medical{{k}}"  required ngDefaultControl>Yes</label>\n                        <label class="btn btn-primary btn_prim" [(ngModel)]="question.exists" (click)="question.exists=\'N\';medicalPageComplete();" [ngClass]="{\'active\':question.exists==\'N\'}" id="medical{{k}}" name="medical{{k}}" required ngDefaultControl>No</label>\n                      </div>\n                      </div>\n                      <div *ngIf = "question.exists == \'Y\'"  class="col-sm-12">\n                          <div class="table table-responsive">\n                            <div>\n                              <span>Details of Medical Conditions</span>\n                              <button class="btn btn-primary btn-sm pull-right" (click)="AddMedicalRow(question.code)"><span class = "glyphicon glyphicon-plus"></span></button>\n                            </div>\n                            <br>\n                            <table class="table table-bordered">\n                              <thead>\n                                <tr>\n                                  <th class="col-sm-3" >Insured Name</th>\n                                  <th class="col-sm-3" *ngIf="question.dateNeeded == \'Y\'">Existing Since(YYYY-MM))</th>\n                                  <th class="col-sm-6" *ngIf="question.detailNeeded == \'Y\'">Details</th>\n                                  <th>&nbsp;</th>\n                                </tr>\n                              </thead>\n                              <tbody>\n                                <tr *ngFor="let illness of question.details; let j=index">\n                                  <td class="col-sm-3" >                  \n                                    <select  id="insuredName_{{k}}{{j}}"  class="form-control" name="insuredName_{{k}}{{j}}" [(ngModel)]="illness.insuredId"  (change)="medicalPageComplete();checkDuplicateInsured(k,j, illness.insuredId)" required>\n                                      <option [value]="">Select</option>\n                                      <option *ngFor= "let insured of proposalInput.insured"  [value]="insured.insuredId">{{insured.firstName}} {{insured.lastName}}</option>\n                                    </select>\n                                  </td>\n                                  <td class="col-sm-3" *ngIf="question.dateNeeded == \'Y\'">\n                                    <div class=" required">\n                                        <div class="">\n                                         <input id="datePicker_{{k}}{{j}}" type="month" class="form-control" name="existingsince_{{k}}{{j}}" datepicker-options="illnessDateOptions" datepicker-mode="\'month\'" [(ngModel)]="illness.conditionSince" (input)="medicalPageComplete();" required />                                          \n                                      </div>\n                                    </div>\n                                  </td>\n                                  <td class="col-sm-6" *ngIf="question.detailNeeded == \'Y\'">\n                                       <div class="col-sm-12">\n                                         <input id="illness_Detail_{{k}}{{j}}" type="text" name="policyAdd_one_{{k}}{{j}}" class="form-control field" [(ngModel)]="illness.details" required>\n                                       </div>\n                                  </td>\n                                  <td><span (click)="DeleteMedicalRow(question.code, j)" class = "glyphicon glyphicon-trash"></span>\n                                  \t<div>\n                                      <span class="has-error" id="insuredError" style="color:red">{{insuredErrors[j]}}</span>\n                                    </div>\n                                  </td>\n                                </tr>\n                              </tbody>\n                            </table>\n                          </div>\n                        </div>\n                      </div>\n                  </div>\n                  </div>\n                  <p style="color:#999999;font-size:12px;padding:15px;margin-top:15px;border-top:1px dashed #dadada;" ></p>\n                  </div>\n                  \n                  <div class="col-sm-12">\n                    <span *ngIf="pageErrors.medicalError" class="has-error" id="medicalError" style="color:red">{{pageErrors.medicalErrorText}}</span>\n                  </div>\n                  <div class = "clear"></div>   \n                  <div class="foot">\n                      <div class="clearfix">\n                        <div class="cf-pull-right">\n                            <button class="btn cf-btn btn-lg btn-gry" (click)="backSection(\'2\')">\n                                <img src="../../../../../assets/images/arrow-left.png">&nbsp;Back\n                          </button>\n                          <button class="btn cf-btn btn-lg btn-default btn-grn" [disabled]="pageErrors.medicalError || pageErrors.insuredError" (click)="nextSection(\'2\')">Continue <img src="../../../../../assets/images/arrow-right.png"> </button>\n                        </div>\n                      </div>\n                  </div>\n                  </div>\n                  </form>\n                  </div>\n\x3c!--medical history ends here--\x3e\n<div class="tab-pane fade content searchheaderpanel" id="panel3">\n  <form id="hdfc-proposer-form" class="form-horizontal" #proposerform = "ngForm" autocomplete="off" novalidate >\n  <div class="form-panel ">     \n      <div class="heads">Proposer</div>\n         <div class = "clear"></div>\n         <div class="body">\n            <div class="main-section">\n              <div class="proposer-process">\n                <div class="define">\n                  <img src="../../../../../assets/images/info.png">\n                  <span>The person who is paying for the policy</span>\n                </div>\n                <div class="row mnone">\n                  <div class="col-sm-11" style="margin-bottom:10px;">\n                    \n                    <div class="col-sm-4 list-item-proposer" >\n                      <div class="form-group dateInsuSpace required">\n                        <label class="control-label">Title </label>\n                        <div class="">\n                          <select class="form-control" [(ngModel)]="proposalInput.proposer.title" [disabled] = "isProposerInsured" name="proposerTitle" required  >\n                            <option value="">Select</option>\n                            <option value="DR">Dr</option>\n                            <option value="MASTER">Master</option>\n                            <option value="MR">Mr</option>\n                            <option value="MS">Ms</option>\n                            <option value="MISS">Miss</option>\n                          </select>\n                        </div>\n                        \n                      </div>\n                      \n                    </div>\n                    \n                    <div class="col-sm-4 list-item-proposer" >\n                      <div class="form-group dateInsuSpace required" [ngClass]="{\'has-error\':proposerfirstName.invalid && !proposerfirstName.pristine}" >\n                      <label class="control-label">First Name </label>\n                      <input type="text" name="proposerfirstName" #proposerfirstName="ngModel" [(ngModel)]="proposalInput.proposer.firstName" minlength="3" maxlength="40" pattern="^[a-zA-Z ]*$" class="form-control" [disabled] = "isProposerInsured" required  >\n                      </div>\n                    </div>\n                    \n                    <div class="col-sm-4 list-item-proposer">\n                      <div class="form-group dateInsuSpace" [ngClass]="{\'has-error\':proposermidName.invalid && !proposermidName.pristine}">\n                      <div class="control-label">Middle Name</div>\n                      <input type="text" name="proposermidName" #proposermidName="ngModel" class="form-control field" [(ngModel)]="proposalInput.proposer.middleName" pattern="^[a-zA-Z ]*$" [disabled] = "isProposerInsured">\n                      </div>\n                    </div>\n                    <div class=" clear"  ></div>\n                    \x3c!-- <div class=" clear" ng-if="proposalInput.proposer.isPrimaryInsured==\'Y\'" ></div> --\x3e\n                    <div class="col-sm-4 list-item-proposer">\n                      <div class="form-group dateInsuSpace required" [ngClass]="{\'has-error\':proposerlastName.invalid && !proposerlastName.pristine}">\n                      <label class="control-label">Last Name </label>\n                      <input type="text" name="proposerlastName" #proposerlastName="ngModel"  [(ngModel)]="proposalInput.proposer.lastName" class="form-control" minlength="3" maxlength="40" pattern="^[a-zA-Z ]*$" [disabled] = "isProposerInsured" required>\n                      </div>\n                    </div>\n                    \n                    <div class="col-sm-4 list-item-proposer">\n                      <div class="form-group dateInsuSpace required">\n                      <label class="control-label">Date of Birth</label>\n                      <div class="">\n                       <input type="date" class="form-control" name="proposerdob" min="{{adultDobOptions.minDate | date:\'yyyy-MM-dd\'}}" max="{{adultDobOptions.maxDate| date:\'yyyy-MM-dd\'}}"\n                              [(ngModel)]="proposalInput.proposer.proposerDob"  [disabled] = "isProposerInsured" onkeydown="return false" required />\n                              <span class="validity"></span>       \n                             \n                    </div>\n                    </div>\n                    </div>\n                    \n                    <div class="col-sm-4 list-item-proposer">\n                      <div class="form-group dateInsuSpace required">\n                        <label class="control-label">Gender</label>\n                        <div class="clear"></div>\n                        <div class="btn-group">\n                          <label  class="btn btn-primary btn_prim" (click)="proposalInput.proposer.gender=\'M\'" [ngClass]="{\'active\':proposalInput.proposer.gender==\'M\'}" [(ngModel)]="proposalInput.proposer.gender" [disabled]="proposalInput.proposer.isPrimaryInsured==\'Y\'"  id="\'proposerM\'" name="proposerGender" required ngDefaultControl>Male</label>\n                          <label  class="btn btn-primary btn_prim" (click)="proposalInput.proposer.gender=\'F\'" [ngClass]="{\'active\':proposalInput.proposer.gender==\'F\'}" [(ngModel)]="proposalInput.proposer.gender" [disabled]="proposalInput.proposer.isPrimaryInsured==\'Y\'"  id="\'proposerF\'" name="proposerGender" required ngDefaultControl>Female</label>\n                          \n                        </div>\n                      </div>\n                    </div>\n                    <div class="clear"></div>\n                    <div class="col-sm-4  col-md-4" >\n                      <div class="form-group dateInsuSpace required" [ngClass]="{\'has-error\':emailIdprop.invalid && !emailIdprop.pristine}">\n                        <div class="col-sm-12 padd0 salutDiv">\n                          <label class="control-label label-block">Email ID</label>\n                          <input type="email" name="emailIdprop" #emailIdprop="ngModel" pattern="[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$" class="form-control" [(ngModel)]="proposalInput.proposer.email"  required>\n                        </div>\n                      </div>\n                    </div>\n                    <div class="col-sm-4 col-md-4" style="">\n                      <div class="form-group dateInsuSpace required" [ngClass]="{\'has-error\':mobilenumberprop.invalid && !mobilenumberprop.pristine}">\n                        <label class="control-label label-block">Mobile Number</label>\n                          <input type="text" name="mobilenumberprop" #mobilenumberprop="ngModel" pattern="^[0-9]{10}$" maxlength="10" class="form-control" [(ngModel)]="proposalInput.proposer.mobile" required>\n                      </div>\n                    </div>\n                   \n                    <div class="col-sm-4">\n                      <div class="form-group dateInsuSpace required" [ngClass]="{\'has-error\':nomineefName.invalid && !nomineefName.pristine}">\n                      <label class="control-label">Nominee First Name</label>\n                      <input type="text" name="nomineefName" #nomineefName="ngModel" class="form-control field" minlength="3" maxlength="40" pattern="^[a-zA-Z ]*$" [(ngModel)]="proposalInput.proposer.nomineeFirstName" required>\n                     </div>\n                   </div>\n                   <div class="col-sm-4">\n                    <div class="form-group dateInsuSpace required" [ngClass]="{\'has-error\':nomineelName.invalid && !nomineelName.pristine}">\n                    <label class="control-label">Nominee Last Name</label>\n                    <input type="text" name="nomineelName" #nomineelName="ngModel" class="form-control field" minlength="3" maxlength="40" pattern="^[a-zA-Z ]*$" [(ngModel)]="proposalInput.proposer.nomineeLastName" required>\n                   </div>\n                 </div>\n                   <div class="col-sm-4">\n                     <div class="form-group dateInsuSpace required" >\n                      <label class="control-label">Nominee Relationship with Insured</label>\n                      <select class="form-control field" [(ngModel)]="proposalInput.proposer.nomineeRel" name="nomRel{{i}}" required>\n                        <option value="{{item.id}}" *ngFor="let item of insurerMaster.NomineeRel">{{item.value}}</option>\n                      </select>\n                    </div>\t\n                   </div>\t\n\n                    \n                <div class="col-sm-4 list-item-proposer">\n                  <div class="form-group dateInsuSpace required">\n                  <label class="control-label">Nominee DOB</label>\n                  <div class="">\n                   <input type="date" class="form-control" name="nomineeDob" min="{{adultDobOptions.minDate | date:\'yyyy-MM-dd\'}}" max="{{adultDobOptions.maxDate| date:\'yyyy-MM-dd\'}}"\n                          [(ngModel)]="proposalInput.proposer.nomineeDob"   (input)="getNomineeAge(proposalInput.proposer.nomineeDob)" onkeydown="return false" required />\n                          <span class="validity"></span>       \n                            \n                </div>\n                </div>\n                </div>\t\n             </div>\n              </div>\n\n                </div>\n                <p style="color:#999999;font-size:12px;padding:15px;margin-top:15px;border-top:1px dashed #dadada;" ></p>\n                </div>\n                </div>\n                <div class = "clear"></div>\n               \x3c!--.body --\x3e\n               <div class="foot">\n                <div class="clearfix">\n                  <div class="cf-pull-right">\n                      <button class="btn cf-btn btn-lg btn-gry" (click)="backSection(\'4\')">\n                          <img src="../../../../../assets/images/arrow-left.png">&nbsp;Back\n                    </button>\n                    <button class="btn cf-btn btn-lg btn-default btn-grn" [disabled]="proposerform.form.invalid" (click)="nextSection(\'3\')">Continue <img src="../../../../../assets/images/arrow-right.png"> </button>\n                  </div>\n                </div>\n            </div>\n                </div>\n                </form>\n                </div>\n \x3c!--Proposal panel ends here--\x3e\n <div class="tab-pane fade content searchheaderpanel" id="panel4">\n    <form id="cigna-contact-form" class="form-horizontal" #contactform = "ngForm" autocomplete="off" novalidate >\n    <div class="form-panel ">     \n        <div class="heads">Contact Info</div>\n           <div class = "clear"></div>\n           <div class="body">\n              <div class="main-section">\n                <div class="proposer-process">\n                  <div class="define">\n                    <img src="../../../../../assets/images/info.png">\n                    <span>Tell us about where to send the policy Document</span>\n                  </div>\n                  \n                  <div class="row mnone">\n  \t\t\t\t\t\n  \t\t\t\t\t\t\n                    <div class="col-sm-12 col-md-12 col-lg-12">\n                        <div class="form-group required">\n                         <label class="control-label">Are the Policy and Mailing Address the same?</label>\n                         <div class="btn-group">\n                          <label class="btn btn-primary btn_prim" name="mailingAdd" [(ngModel)]="proposalInput.proposer.policyRegAddressSame"  [ngClass]="{\'active\': proposalInput.proposer.policyRegAddressSame ==\'Y\'}" (click)="proposalInput.proposer.policyRegAddressSame=\'Y\';samePolicyCorrAddress(\'Y\');"  id="\'Y\'" required ngDefaultControl>Yes</label>\n                          <label class="btn btn-primary btn_prim" name="mailingAdd" [(ngModel)]="proposalInput.proposer.policyRegAddressSame" [ngClass]="{\'active\': proposalInput.proposer.policyRegAddressSame ==\'N\'}" (click)="proposalInput.proposer.policyRegAddressSame=\'N\';samePolicyCorrAddress(\'N\');"  id="\'N\'" required ngDefaultControl>No</label>\n                         </div>\n                        \n                        </div>\n                    </div>\n                      \n                    <div class="clear"></div>\n                    <br><br>\n                    <div class="col-sm-6 add-borde"> \n                      <h3><img src="../../../../../assets/images/mail.png">&nbsp;&nbsp;Policy Address</h3>\n                      <div class="col-sm-12">\n                        <div class="form-group required" [ngClass]="{\'has-error\':policyAdd_one.invalid && !policyAdd_one.pristine}">\n                          <label class="control-label">Flat/House No</label>\n                          <input type="text" name="policyAdd_one" #policyAdd_one="ngModel" class="form-control field" [(ngModel)]="proposalInput.proposer.policyAddressLine1" minlength="1" maxlength="30"  required>\n                        </div>\n                      </div>\n                      <div class="col-sm-12">\n                        <div class="form-group required" [ngClass]="{\'has-error\':policyAdd_two.invalid && !policyAdd_two.pristine}">\n                          <label class="control-label">Building/Street</label>\n                          <input type="text" placeholder="5-30 Characters" #policyAdd_two="ngModel" name="policyAdd_two" class="form-control field" [(ngModel)]="proposalInput.proposer.policyAddressLine2" minlength="5" maxlength="30"  required>\n                        </div>\n                      </div>\n                      <div class="col-sm-12">\n                          <div class="form-group required" [ngClass]="{\'has-error\':policyAdd_three.invalid && !policyAdd_three.pristine}">\n                          <label class="control-label">Landmark</label>\n                          <input type="text" placeholder="5-30 Characters" #policyAdd_three="ngModel" class="form-control field" name="policyAdd_three" [(ngModel)]="proposalInput.proposer.policyAddressLine3" minlength="5" maxlength="30"   required>\n                        </div>\n                      </div>\t   \t\t\t\t\t\t\n                      <div class="col-sm-6">\n                       \n                        <div class="form-group required" [ngClass]="{\'has-error\':pincode.invalid && !pincode.pristine}">\n                          <label class="control-label">Pincode</label>\n                          <input name="pincode" #pincode="ngModel" type="text" class="form-control field" pattern="^[1-9][0-9]{5}$" maxlength="6" [(ngModel)]="proposalInput.proposer.policyPincode"  (blur)="getCityFromPincode(\'P\', proposalInput.proposer.policyPincode)" required>\n                          <span class="has-error " *ngIf="showError==\'false\'">Invalid Pin Code</span>\n                        </div>\n                      </div>\n                      \n                      <div class="col-sm-6">\n                        <div class="form-group dateInsuSpace required">\n                          <label class="control-label">City</label>\n                          \x3c!--<select class="form-control field" [(ngModel)]="city" name="polCity" (change)="setCityState(\'P\',city)" >\n                            <option [ngValue]="city" *ngFor="let city of polCities" >{{city.value}}</option>\n                              <div ng-bind-html="polCity.value | highlight: $select.search"> </div>--\x3e\n                           \n                       \x3c!--</select>--\x3e\n                       <input type="text"  class="form-control field" name="polCity" id="polocity" [(ngModel)]="proposalInput.proposer.policyCity" readonly required>\n                        </div>\n                      </div>\n                      \n                      <div class="col-sm-6" style="padding-left:0px;">\n                        <div class="form-group required dateInsuSpace">\n                         <label class="control-label">State</label>\n                         <input type="text" class="form-control field" [(ngModel)]="proposalInput.proposer.policyState" name="polState" readonly required>\n                        </div>\n                      </div>\n                        \n                    </div>\n                    <div *ngIf="proposalInput.proposer.policyRegAddressSame==\'N\'" class="col-sm-6 add-borde"> \n                      <h3><img src="../../../../../assets/images/mail.png">&nbsp;&nbsp;Contact Address</h3>\n                      <div class="col-sm-12">\n                        <div class="form-group required" [ngClass]="{\'has-error\':contactAdd_one.invalid && !contactAdd_one.pristine}">\n                          <label class="control-label">Flat/House No</label>\n                          <input type="text" name="contactAdd_one" #contactAdd_one="ngModel" class="form-control field" [(ngModel)]="proposalInput.proposer.corrAddressLine1" minlength="1" maxlength="30"  required>\n                        </div>\n                      </div>\n                      <div class="col-sm-12">\n                        <div class="form-group required" [ngClass]="{\'has-error\':contactAdd_two.invalid && !contactAdd_two.pristine}">\n                          <label class="control-label">Building/ Street</label>\n                          <input type="text" placeholder="5-30 Characters" name="contactAdd_two" #contactAdd_two="ngModel" class="form-control field" [(ngModel)]="proposalInput.proposer.corrAddressLine2" minlength="5" maxlength="30"  required>\n                        </div>\n                      </div>\n                      <div class="col-sm-12">\n                        <div class="form-group required" [ngClass]="{\'has-error\':contactAdd_three.invalid && !contactAdd_three.pristine}">\n                          <label class="control-label">Landmark</label>\n                          <input type="text" placeholder="5-30 Characters" #contactAdd_three="ngModel" class="form-control field" name="contactAdd_three" [(ngModel)]="proposalInput.proposer.corrAddressLine3" minlength="5" maxlength="30"   required>\n                        </div>\n                     </div>\t   \t\t\t\t\t\t\n                     <div class="col-sm-6">\n                     <div class="form-group required" [ngClass]="{\'has-error\':contactpincode.invalid && !contactpincode.pristine}">\n                       <label class="control-label">Pincode</label>\n                       <input name="contactpincode" #contactpincode="ngModel" type="text" class="form-control field" pattern="^[1-9][0-9]{5}$" maxlength="6" [(ngModel)]="proposalInput.proposer.corrPincode"  (blur)="getCityFromPincode(\'C\', proposalInput.proposer.corrPincode)" required>\n                       <span class="has-error " *ngIf="showError==\'false\'">Invalid Pin Code</span>\n                     </div>\n                   </div>\n                        \n                      <div class="col-sm-6">\n                        <div class="form-group dateInsuSpace required" >\n                          <label class="control-label">City</label>\n                          \x3c!--<select class="form-control field" [(ngModel)]="city" name="corCity" (change)="setCityState(\'C\',city)" >\n                            <option [ngValue]="city" *ngFor="let city of corCities" >{{city.value}}</option>\n                              <div ng-bind-html="polCity.value | highlight: $select.search"> </div>--\x3e\n                           \n                       \x3c!--</select>--\x3e\n                       <input type="text" class="form-control field" [(ngModel)]="proposalInput.proposer.corrCity" name="corState" value="{{corCities.cityName}}" readonly required>\n                        </div>\n                      </div>\n                   \n                   <div class="col-sm-6" style="padding-left:0px;">\n                     <div class="form-group dateInsuSpace required">\n                       <label class="control-label">State</label>\n                       <input type="text" class="form-control field" [(ngModel)]="proposalInput.proposer.corrState"  value="{{corCities.stateName}}" name="corrState" readonly required>\n                     </div>\n                   </div>\n       \n                        \n                    </div>\n\n                    </div>\n                    </div>\n                    </div>\n                    <p style="color:#999999;font-size:12px;padding:15px;margin-top:15px;border-top:1px dashed #dadada;" ></p>\n                    </div>\n                    <div class="foot">\n                      <div class="clearfix">\n                        <div class="cf-pull-right">\n                            <button class="btn cf-btn btn-lg btn-gry" (click)="backSection(\'4\')">\n                                <img src="../../../../../assets/images/arrow-left.png">&nbsp;Back\n                          </button>\n                          <button class="btn cf-btn btn-lg btn-default btn-grn" [disabled]="contactform.form.invalid" (click)="nextSection(\'4\')">Continue <img src="../../../../../assets/images/arrow-right.png"> </button>\n                        </div>\n                      </div>\n                  </div>\n                    </div>\n                    </form>\n                    </div>\n\x3c!--contact ends here--\x3e\n<div class="tab-pane fade content searchheaderpanel" id="panel5">\n    <form id="cigna-summary-form" class="form-horizontal" #summaryform = "ngForm" autocomplete="off" novalidate >\n        <div class="form-panel ">     \n                  <div class="heads">Summary</div>\n                     <div class = "clear"></div>\n                     <div class="body">\n                        <div class="main-section">\n                              <div class="buy-process">\n                                  <div class="define">\n                                      <img src="../../../../../assets/images/info.png">\n                                      <span>Please Review the Information below for correctness and completeness</span>\n                                    </div>\n                                        \n                                        <div class="summary-stage">\n                                            <div class="title">\n                                              <h4>Insured Member(s)</h4>\n                                                <span class="btn btn-primary" (click)="editFields(\'1\', \'5\')">Edit</span>\n                                            </div>\n                                            <div class = "clear"></div>\n                                            <div class="stage-body">\n                                             <div class="row mnone" *ngFor="let member of proposalInput.insured">\n                                               <div class="col-sm-12" style="margin-bottom:10px;">\n                                                 <div class="col-sm-6 list-item-proposer">\n                                                 <label class="control-label label-highlight">Name:</label>\n                                                 <span>{{member.title}} </span>\n                                                 <span>{{member.firstName}} </span>\n                                                 <span>{{member.middleName}} </span>\n                                                 <span>{{member.lastName}} </span>\n                                               </div>\n                                               <div class="col-sm-6 list-item-proposer">\n                                                 <label class="control-label label-highlight">Date of Birth:</label>\n                                                 <span>{{member.dob| date : "dd MMM yyyy"}}</span>\n                                               </div>\n                                               <div class="col-sm-6 list-item-proposer">\n                                                 <label class="control-label label-highlight">Gender:</label>\n                                                 <span *ngIf = "member.gender==\'M\'">Male</span>\n                                                 <span *ngIf = "member.gender==\'F\'">Female</span>\n                                               </div>\n                                               <div class="col-sm-6 list-item-proposer">\n                                                 <label class="control-label label-highlight">Relationship with proposer:</label>\n                                                 <span>{{member.relationshipId}} </span>\n                                               </div>\n                                               <div class="col-sm-6 list-item-proposer">\n                                                 <label class="control-label label-highlight">ID Type:</label>\n                                                 <span>{{ member.idType}} </span>\n                                               </div>\n                                               <div class="col-sm-6 list-item-proposer">\n                                                 <label class="control-label label-highlight">ID Number:</label>\n                                                 <span>{{member.idNumber}}</span>\n                                               </div>\n                                               <div class="col-sm-6 list-item-proposer">\n                                                 <label class="control-label label-highlight">Height:</label>\n                                                 <span>{{member.height}} cms </span>\n                                               </div>\n                                               <div class="col-sm-6 list-item-proposer">\n                                                 <label class="control-label label-highlight">Weight:</label>\n                                                 <span>{{member.weight}} kgs </span>\n                                               </div>\n                                               </div>\n                                               <p style="color:#999999;font-size:12px;padding:15px;margin-top:15px;border-top:1px dashed #dadada;" ></p>\n                                             </div>\n                                             <div class = "clear"></div>\n                                             \n                                            </div>\n                                          </div>\n                                          <div class="summary-stage">\n                                              <div class = "clear"></div>\n                                              <div class="title">\n                                                <h4>Medical History </h4>\n                                                  <span class="btn btn-primary" (click)="editFields(\'2\', \'5\')">Edit</span>\n                                              </div>\n                                              <div class = "clear"></div>\n                                              <div class="stage-body">\n                                                <div class = "clear"></div>\n                                                <div class="row mnone">\n                                                  <div class="define">\n                                                   <img src="../../../../../assets/images/info.png">\n                                                   <span>Have any of the person proposed to be insured ever suffered from/ are currently suffering from any of the following</span>\n                                                 </div>\n                                                  <div class="col-sm-12 row mnone conditional-question" *ngFor="let question of medicalQuestions; let i=index">\n                                                   <div class="col-sm-8 pnone">\n                                                     <span>{{i+1}}.&nbsp;</span>\n                                                     <span>{{question.questiontext}}</span>\n                                                   </div>\n                                                   <div class="col-sm-2 pnone">&nbsp;</div>\n                                                   <div class="col-sm-2 pnone">\n                                                     <div *ngIf="question.exists==\'Y\'">Yes</div>\n                                                   <div *ngIf="question.exists==\'N\'">No</div>\n                                                   </div>\n                                                   <div class="clear"></div>\n                                              \n                                               <div class="clear"></div>\n                                               <div *ngIf = "question.exists == \'Y\'" class="col-sm-12">\n                                                 <div class="table table-responsive">\n                                                   <div>\n                                                     <span>Details of Medical Conditions</span>\n                                                   </div>\n                                                   <br>\n                                                   <table class="table table-bordered">\n                                                     <thead>\n                                                       <tr>\n                                                         <th>Insured Name</th>\n                                                         <th>Description</th>\n                                                       </tr>\n                                                     </thead>\n                                                     <tbody>\n                                                       <tr *ngFor="let illness of question.details">\n                                                         <td>{{illness.insuredName}}</td>\n                                                         <td>{{illness.conditionSince| date : "MMM yyyy" }}</td>\n                                                       </tr>\n                                                     </tbody>\n                                                   </table>\n                                                 </div>\n                                               </div> \n                                              </div>\n                                                 <div class = "clear"></div>\n                                               </div>\t\t\n                                              </div>\n                                            </div>\n  \n                                        <div class="summary-stage">\n                                            <div class="title">\n                                              <h4>Proposer </h4>\n                                                <span class="btn btn-primary" (click)="editFields(\'3\', \'5\')">Edit</span>\n                                            </div>\n                                            <div class="stage-body">\n                                              <div class="col-sm-10" style="margin-bottom:10px;">\n                                             <div class="col-sm-6 list-item-proposer">\n                                               <label class="control-label label-highlight">Name:</label>\n                                               <span>{{proposalInput.proposer.title}} </span>\n                                               <span>{{proposalInput.proposer.firstName}} </span>\n                                               <span>{{proposalInput.proposer.middleName}} </span>\n                                               <span>{{proposalInput.proposer.lastName}} </span>\n                                             </div>\n                                             <div class="col-sm-6 list-item-proposer">\n                                               <label class="control-label label-highlight">Date of Birth:</label>\n                                               <span>{{proposalInput.proposer.proposerDob| date : "dd MMM yyyy"}}</span>\n                                             </div>\n                                             <div class="col-sm-6 list-item-proposer">\n                                               <label class="control-label label-highlight">Gender:</label>\n                                               <span *ngIf = "proposalInput.proposer.gender==\'M\'">Male</span>\n                                               <span *ngIf = "proposalInput.proposer.gender==\'F\'">Female</span>\n                                             </div>\n                                            \n                                             <div class="clear"></div>\n                                             <div class="col-sm-6 list-item-proposer">\n                                               <label class="control-label label-highlight">Nominee Name:</label>\n                                               <span>{{proposalInput.proposer.nomineeTitle}} </span>\n                                               <span>{{proposalInput.proposer.nomineeFirstName}} </span>\n                                               <span>{{proposalInput.proposer.nomineeLastName}} </span>\n                                             </div>\n                                             <div class="col-sm-6 list-item-proposer">\n                                               <label class="control-label label-highlight">Nominee Date of Birth:</label>\n                                               <span>{{proposalInput.proposer.nomineeDob| date : "dd MMM yyyy"}}</span>\n                                             </div>\n                                            \n                                             <div class="col-sm-6 list-item-proposer">\n                                               <label class="control-label label-highlight">Nominee Relationship:</label>\n                                               <span>{{proposalInput.proposer.nomineeRel}} </span>\n                                             </div>\n                                             \n                                             <div *ngIf ="proposalInput.proposer.nomineeAge<18">\n                                               \n                                              \n                                             </div>\n                                             </div>\n                                            </div>\n                                          </div>     \n  \n                                          <div class="summary-stage">\n                                              <div class="title">\n                                                <h4>Contact Info. </h4>\n                                                  <span class="btn btn-primary" (click)="editFields(\'4\', \'5\')">Edit</span>\n                                              </div>\n                                              <div class = "clear"></div>\n                                              <div class="stage-body">\n                                             <div class="row mnone">\n                                               <div class="col-sm-12 add-borde"> \n                                                   <h3><img src="../../../../../assets/images/mail.png">&nbsp;&nbsp;Contact Details</h3>\n                                                   \n                                                   <div class="col-sm-6 list-item-proposer">\n                                                   <label class="control-label label-highlight">Policy Address:</label><br>\n                                                   <span>{{proposalInput.proposer.policyAddressLine1}}</span><br>\n                                                   <span>{{proposalInput.proposer.policyAddressLine2}} </span><br>\n                                                   <span>{{proposalInput.proposer.policyAddressLine3}} </span><br>\n                                                    <span>{{proposalInput.proposer.policyCity}}, {{proposalInput.proposer.policyState}}  </span><br>\n                                                   <span>{{proposalInput.proposer.policyPincode}} </span><br>\n                                                 </div>\n                                                 \n                                                 <div class="col-sm-6 list-item-proposer">\n                                                   <label class="control-label label-highlight">Mailing Address:</label><br>\n                                                   <span>{{proposalInput.proposer.corrAddressLine1}}</span><br>\n                                                   <span>{{proposalInput.proposer.corrAddressLine2}} </span><br>\n                                                   <span>{{proposalInput.proposer.corrAddressLine3}} </span><br>\n                                                    <span>{{proposalInput.proposer.corrCity}}, {{proposalInput.proposer.corrState}} </span><br>\n                                                   <span>{{proposalInput.proposer.corrPincode}} </span><br>\n                                                 </div>\n                                                 \n                                                 <div class="col-sm-6 list-item-proposer">\n                                                   <label class="control-label label-highlight">E-mail:</label>\n                                                   <span>{{proposalInput.proposer.email}}</span><br>\n                                                   <label class="control-label label-highlight">Mobile:</label>\n                                                   <span>{{proposalInput.proposer.mobile}}</span><br>\n                                                 </div>\n                                                 <div class="col-sm-6 list-item-proposer">\n                                                   \n                                                 </div>\n                                                 </div>\n                                               </div>\n                                              </div>\n                                            </div>\n                                            <div class = "clear"></div>\n                   <div class="summary-stage">\n                     <div class="title">\n                       <h4>DECLARATION</h4>\n                     </div>\n                     <div class = "clear"></div>\n                     <div class="agree-field">            \n                                   <label id="chkSiDetailsL" class="control-label label-block" style="padding-top: 0px;">&nbsp;Please read the <a data-toggle="modal" data-target="#termsCondModal" >Terms &amp; Conditions</a> &nbsp;<span> and provide your consent</span></label>           \n                                </div>\n                                <div class = "clear"></div>\n                   </div>\n                   <div class = "clear"></div>\n                   <div class="summary-stage">\n                     <div class="title">\n                       <h4>SECTION 41 INSURANCE ACT (PROHIBITION OF REBATES)</h4>\n                     </div>\n                     <div class="stage-body">\n                       <p>1) No person shall allow or offer to allow, either directly or indirectly, as an inducement to any person to take or renew or continue an insurance in respect of any kind of risk relating to lives or property in India, any rebate of the whole or part of the commission payable or any rebate of premium shown on the policy, nor shall any person taking out or renewing or continuing a policy accept any rebate, except such rebate as may be allowed in accordance with the prospectus or tables of the insurers.</p>\n                       <p>2) Any person making default in complying with the provisions of this section shall be punishable with fine which may extend to five hundred rupees.</p>\n                     </div>\n                   </div>\n                   <div class="row mnone" style="position:relative">\n                     \n                            <div class="summary-stage">\n                            <div class="col-sm-12">\n                      <div class="agree-box">\n                                  <div class="item">        \n                                    <div class="agree-field">            \n                                      <span style="color:red">{{proposalError.key}}\n                                        <ol>\n                                          <li style="color:red;" *ngFor="let errorPirnts of proposalError.errorPirnt">{{errorPirnts}}</li>\n                                        </ol>\n                                      </span>\n                                    </div>            \n                                   </div>              \n                               </div>    \n                              </div>\n                          </div>\n                        </div>\n                                        \n                                        </div>\n                           </div>\n                    </div>\n                    <div class="foot">\n                      <div class="clearfix">\n                          <div class="cf-pull-right">\n                              <button class="btn cf-btn btn-lg btn-gry" (click)="backSection(\'5\')">\n                                               <img src="../../../../../assets/images/arrow-left.png">&nbsp;Back\n                                       </button>\n                              <button class="btn cf-btn btn-lg btn-default btn-grn" [disabled]="!tcview" (click)="makePayment()">Make Payment <img src="../../../../../assets/images/arrow-right.png"> </button>\n                          </div>\n                      </div>\n                     </div> \n                    </div>\n                    <div class = "clear"></div>\n               \n                  \n      </form>\n      </div>\n  \x3c!-- summary ends here --\x3e  \n       </div>\n   \n        <div id="footermain">\n          <div class="footer_Pas1">{{firstName}} &nbsp; {{lastName}} </div>\n          <div class="footer_R">All Rights Reserved &copy;mcxtra insurance</div>\n          <div class="footer_Pas2"><a data-toggle="modal" data-target="#exampleModal"><b></b></a></div>\n        </div>\n</div>\n<div  *ngIf="loading" class="loading col-sm-10 col-md-10 col-lg-10">\n  <div class="ctralign"><img src = "../../../../../assets/images/loading.gif"></div>\n</div>   \n<div  id="loader" style="margin-top:70%; "></div> \n\n \x3c!-- Modal --\x3e\n <div data-backdrop="static" data-keyboard="false" class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">\n    <div class="modal-dialog" role="document">\n      <div class="modal-content">\n        <div class="modal-header">\n          <h5 class="modal-title" id="exampleModalLabel">CHANGE PASSWORD</h5>\n          <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n            <span aria-hidden="true">&times;</span>\n          </button>\n        </div>\n        <div class="modal-body">\n          <form  #changePwdForm = "ngForm">\n            <div class="form-group">\n              <label for="Old-Password" class="col-form-label" >Old Password:</label>\n              <input type="password" class="form-control" name="oldPwd" id="Old-Password" required>\n            </div>\n             <div ngModelGroup="password" #userPassword="ngModelGroup" required >\n            <div class="form-group">\n              <label for="New-Password" class="col-form-label" >New Password:</label>\n              <input type="password" class="form-control" name="newPwd" id="New-Password" ngModel required>\n            </div>\n            <div class="form-group">\n              <label for="cngm-Password" class="col-form-label">Confirm Password:</label>\n              <input type="password" class="form-control" name="confirmPwd" id="cngm-Password" ngModel required>\n            </div>\n             <div *ngIf="(userPassword.invalid|| userPassword.value?.newPwd != userPassword.value?.confirmPwd) && (userPassword.touched)" class="alert alert-danger dontmatch">\n                   <div *ngIf = "userPassword.invalid; else nomatch">\n                      Passwords need to be match\n                  </div>\n                      <ng-template #nomatch >\n                          Passwords don\'t match\n                      </ng-template>\n                  </div>\n           </div> \n          \n       \n        <div class="modal-footer">\n          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n          <button type="button" (click) ="changePass()" [disabled]="!changePwdForm.form.valid" class="btn btn-primary">Change Password</button>\n        </div>\n        </form>\n         </div>\n      </div>\n    </div>\n    </div>\n    \x3c!-- Success or failure modal --\x3e\n    <div id="resultModal" class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog" role="document">\n      <div class="modal-content">\n        <div class="modal-body">\n          <p id="messageTouser"></p>\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-secondary" data-dismiss="modal">OK</button>\n        </div>\n      </div>\n    </div>\n    </div>\n    \x3c!-- ends here--\x3e\n  \x3c!-- TC  modal --\x3e\n\n  <div data-backdrop="static" data-keyboard="false" id="termsCondModal" class="modal" tabindex="-1" role="dialog">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <h5 class="modal-title" id="exampleModalLabel">Declaration/ Terms and Conditions</h5>\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                  <span aria-hidden="true">&times;</span>\n                </button>\n              </div>\n          <div class="modal-body">\n              <h4>Declaration & Authorization*:</h4>\n                <p>I understand that the information provided by me will form the basis of the insurance policy, is subject to the Board approved underwriting policy of the insurance company and that the policy will come into force only after full receipt of the premium chargeable.</p>\n              \n              <p>I / We further declare that I / We will notify in writing any change occurring in the occupation or general health of the life to be insured / proposer after the proposal has been submitted but before communication of the risk acceptance by the company.\n              </p><p>I / We declare and consent to the company seeking medical information from any doctor or from a hospital who at any time has attended on the life to be insured/ proposer or from any past or present employer concerning anything which affects the physical or mental health of the life to be assured / proposer and seeking information from any insurance company to which an application for insurance on the life to be assured / proposer has been made for the purpose of underwriting the proposal and / or claim settlement.\n              </p><p>I / We authorize the company to share information pertaining to my proposal including the medical records for the sole purpose of proposal underwriting and / or claims settlement and with any Governmental and / or Regulatory authority.\n              </p><p>I/ We have read and understood the brochure, prospectus, sales literature, terms and conditions of the Policy, Optional Extensions and confirm to abide by the same.\n              </p><p>Receipt of proposal form by the Company shall not be construed as acceptance of proposal. Commencement of risk under the Policy shall be subject to realization of full premium and acceptance by the Company. The Company at its sole discretion reserves the right to accept or reject or load any proposal. Policy would start from the date as specified in the Policy Certificate.\n              </p><p>I understand that the Policy Period Start Date as specified in the Policy Certificate shall be from the 00:00 hrs of the next day of the Proposal receipt at branch, proposed policy period start date as opted by me or cheque date, whichever is later.\n              </p><p>I/we hereby declare that the lives proposed to be insured would submit to medical examinations before the nominated doctors of the Company, or undergo diagnostic or other medical tests, as suggested by the company for its underwriting wherever applicable.\n              </p><p>I/we authorize the Company to use and disclose any personal information collected or available with the Company in relation to the persons to be insured (whether obtained with this Proposal or otherwise) to other underwriting companies, claim investigation companies/ agencies, service provider, assistance company/ any statutory body and insurance/ re-insurance companies for the purpose of processing of this proposal and providing subsequent services.\n              </p><p>I consent to provide a valid age proof and identity proof at the time of claims or any other time when required by the Company.\n              </p><p>I/we understand that the Policy shall become void at the option of the Company, in the event of any untrue or incorrect statement, misrepresentation, non-description or non-disclosure of any material fact in the Proposal form/personal statement, declaration and connected documents, or any material information having been withheld by me/us or anyone acting on my/our behalf.\n              </p><p>I/We consent to receive information from the Company through physical documents or electronic or telecommunication means from time to time.\n              </p>Bonafide Source of funds for payment.\n           \n            <p>I/we hereby confirm that all premiums have been/will be paid from bonafide sources and no premiums have been/will be paid out of proceeds of crime related to any of the offence listed in Prevention of Money Laundering Act, 2002 and applicable laws.\n            </p><p>I understand that the Company has the right to call for documents to establish sources of funds.\n            </p><p>The insurance company has right to cancel the insurance contract in case I am/ have been found guilty by any competent court of law under any of the statutes, directly or indirectly governing the prevention of money laundering in India.\n            </p>\n           <p>I/We further declare, on my behalf and on behalf of each of the persons proposed to be insured that there is all information which is relevant to this proposal that has been disclosed and not withheld from the Company. I further declare and agree that this declaration and the answers given above shall be held to be promissory and shall be the basis of the contract between me/us and the Company.\n        </p><p>I / We hereby declare, on my behalf and on behalf of all persons proposed to be insured, that the above statements, answers and / or particulars given by me are true and complete in all respects to the best of my knowledge and that I / We am / are authorized to propose on behalf of these other persons.\n        </p>    \n      \t\n          </div>\n         \n          <div class="modal-footer">\n              <button type="button" class="btn btn-secondary" data-dismiss="modal">I Disagree</button>\n            <button type="button" class="btn btn-primary" (click)="agreeTC(\'agree\')" data-dismiss="modal">I Agree</button>\n          </div>\n        </div>\n        </div>\n      </div>\n    </div>\n     \x3c!-- ends here--\x3e\n\n<div data-backdrop="static" data-keyboard="false" id="newPremiumModal" class="modal" tabindex="-1" role="dialog">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n        <div class="modal-header">\n            <h5 class="modal-title">Your Premium has changed</h5>\n            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n          </div>\n      <div class="modal-body">\n          <form class="form-horizontal">\n              <div class="modal-body hom_modal_body">\n                <div class="form-group">\t\n                  <div class="col-sm-12">\n                    <div class="col-sm-12 padd0">\n                      Old premium:{{items.premiumPassed  | currency :\'INR\': \'true\'}}\n                    </div>\t\n                    <div class="col-sm-12 padd0">\n                      New premium:{{items.premiumPayable | currency :\'INR\': \'true\'}}\n                    </div>                    \n                  </div>\n                </div>\n              </div>\n              <div class="modal-footer">\n                <div class="col-sm-8" style="text-align:left;">Do you to want to continue.</div>\n                <div class="col-sm-4">\n                <button type="button" class="btn btn-primary btn_prim" role="button" (click)="submitNewPrem()"><span class="">Yes</span></button>\n                <button type="button" class=" btn btn-primary btn_prim" role="button" data-dismiss="modal" aria-hidden="true"><span class="">No</span></button>\n                </div>\n              </div>\n              </form>\n      </div>\n    </div>\n  </div>\n</div>\n\x3c!--New Primium modal ends here--\x3e\n</div> '}}]);